{"title":"7zip的编译","slug":"release/2020-7-2-compile-7zip","date":"2021-05-17T07:44:32.000Z","updated":"2021-05-17T07:44:32.000Z","comments":true,"path":"api/articles/release/2020-7-2-compile-7zip.json","excerpt":"编译7z.dll1.下载源代码并打开下载地址：https://www.7-zip.org/download.html 用vs打开%7z_source%\\CPP\\7zip\\Bundles\\Format7zF\\Format7z.dsw 在7zCrcOpt.asm和AesOpt.asm两个文件上右键属性，修改其配置信息，如图 这里是由于作者用的VB6，你打开宏设置就知道这个路径是在Visual Studio 2019是错的 如果要编译64位的 对于 error LNK2026 模块对于 SAFESEH 映像是不安全的解决 在其它选项添加如下内容 1/SAFESEH:NO 2.编译7z.dlll文件会编译到你链接器部分设置的位置 其他部分考完试再更新","covers":["/cn/posts/25908/image-20200702201430649.png","/cn/posts/25908/image-20200702145129113.png","/cn/posts/25908/image-20200702151131634.png","/cn/posts/25908/image-20200702145334265.png"],"content":"<h4 id=\"编译7z-dll\"><a href=\"#编译7z-dll\" class=\"headerlink\" title=\"编译7z.dll\"></a>编译7z.dll</h4><h5 id=\"1-下载源代码并打开\"><a href=\"#1-下载源代码并打开\" class=\"headerlink\" title=\"1.下载源代码并打开\"></a>1.下载源代码并打开</h5><p>下载地址：<a href=\"https://www.7-zip.org/download.html\">https://www.7-zip.org/download.html</a></p>\n<p><img src= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" data-lazy-src=\"/cn/posts/25908/image-20200702201430649.png\" alt=\"image-20200702201430649\"></p>\n<p>用vs打开%7z_source%\\CPP\\7zip\\Bundles\\Format7zF\\Format7z.dsw</p>\n<p>在7zCrcOpt.asm和AesOpt.asm两个文件上右键属性，修改其配置信息，如图</p>\n<p>这里是由于作者用的VB6，你打开宏设置就知道这个路径是在<a href=\"https://visualstudio.microsoft.com/vs/\">Visual Studio 2019</a>是错的</p>\n<p><img src= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" data-lazy-src=\"/cn/posts/25908/image-20200702145129113.png\" alt=\"image-20200702145129113\"></p>\n<p>如果要编译64位的</p>\n<p><img src= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" data-lazy-src=\"/cn/posts/25908/image-20200702151131634.png\" alt=\"image-20200702151131634\"></p>\n<p>对于 error LNK2026 模块对于 SAFESEH 映像是不安全的解决</p>\n<p>在其它选项添加如下内容</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/SAFESEH:NO </span><br></pre></td></tr></tbody></table></figure>\n\n<p><img src= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" data-lazy-src=\"/cn/posts/25908/image-20200702145334265.png\" alt=\"image-20200702145334265\"></p>\n<h5 id=\"2-编译\"><a href=\"#2-编译\" class=\"headerlink\" title=\"2.编译\"></a><strong>2.编译</strong></h5><p>7z.dlll文件会编译到你链接器部分设置的位置</p>\n<blockquote>\n<p>其他部分考完试再更新</p>\n</blockquote>\n","more":"<h4 id=\"编译7z-dll\"><a href=\"#编译7z-dll\" class=\"headerlink\" title=\"编译7z.dll\"></a>编译7z.dll</h4><h5 id=\"1-下载源代码并打开\"><a href=\"#1-下载源代码并打开\" class=\"headerlink\" title=\"1.下载源代码并打开\"></a>1.下载源代码并打开</h5><p>下载地址：<a href=\"https://www.7-zip.org/download.html\">https://www.7-zip.org/download.html</a></p>\n<p><img src=\"/cn/posts/25908/image-20200702201430649.png\" alt=\"image-20200702201430649\"></p>\n<p>用vs打开%7z_source%\\CPP\\7zip\\Bundles\\Format7zF\\Format7z.dsw</p>\n<p>在7zCrcOpt.asm和AesOpt.asm两个文件上右键属性，修改其配置信息，如图</p>\n<p>这里是由于作者用的VB6，你打开宏设置就知道这个路径是在<a href=\"https://visualstudio.microsoft.com/vs/\">Visual Studio 2019</a>是错的</p>\n<p><img src=\"/cn/posts/25908/image-20200702145129113.png\" alt=\"image-20200702145129113\"></p>\n<p>如果要编译64位的</p>\n<p><img src=\"/cn/posts/25908/image-20200702151131634.png\" alt=\"image-20200702151131634\"></p>\n<p>对于 error LNK2026 模块对于 SAFESEH 映像是不安全的解决</p>\n<p>在其它选项添加如下内容</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/SAFESEH:NO </span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/cn/posts/25908/image-20200702145334265.png\" alt=\"image-20200702145334265\"></p>\n<h5 id=\"2-编译\"><a href=\"#2-编译\" class=\"headerlink\" title=\"2.编译\"></a><strong>2.编译</strong></h5><p>7z.dlll文件会编译到你链接器部分设置的位置</p>\n<blockquote>\n<p>其他部分考完试再更新</p>\n</blockquote>\n","categories":[],"tags":[]}