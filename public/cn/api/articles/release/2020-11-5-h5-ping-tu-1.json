{"title":"h5拼图小游戏","slug":"release/2020-11-5-h5-ping-tu-1","date":"2020-11-05T07:00:00.000Z","updated":"2020-11-05T07:00:00.000Z","comments":true,"path":"api/articles/release/2020-11-5-h5-ping-tu-1.json","excerpt":"内容介绍1.1 学习内容本项目是基于 HTML+CSS+JavaScript 实现网页版的拼图游戏。实现过程中将用到 HTML5，CSS3 及 JavaScript 相关知识。完成这个项目，可以进一步扎实前端基础知识。 九宫格拼图相信大家都玩过了，看似简单的小游戏，但实现起来其实并不那么简单。在以前，写程序是程序员的专利，只有他们才能做出一个软件来。但是现在不同了。科技的进步和经济的发展，使得每个人都可以使用计算机。特别是 HTML5 和 CSS3 的流行，使得制作一个基本的游戏变得简单。 下面我们就来做一个九宫格拼图。它的玩法是移动空格块旁边的方块，使得它们按照方块上面标的数字顺序排好。最终的效果： 1.2 实验知识点本实验涉及以下知识点： HTML5 CSS3 JavaScript 1.3 实验环境 Vscode 1.4 适合人群本项目难度一般，适合刚学完前端基础（HTML+CSS+JavaScript）的同学作为练手项目。 1.5 代码获取附件： 1puzzle.zip 项目原理根据下面的效果图来观察思考，我们要做的就是设置一个大 DIV 用来包裹里面的小 DIV，然后在里面设置","covers":["/cn/posts/22493/document-uid920932labid465timestamp1551234014316.png","/cn/posts/22493/document-uid920932labid465timestamp1551234094402.png","/cn/posts/22493/puzzle1.png"],"content":"<h1 id=\"内容介绍\"><a href=\"#内容介绍\" class=\"headerlink\" title=\"内容介绍\"></a>内容介绍</h1><h4 id=\"1-1-学习内容\"><a href=\"#1-1-学习内容\" class=\"headerlink\" title=\"1.1 学习内容\"></a>1.1 学习内容</h4><p>本项目是基于 HTML+CSS+JavaScript 实现网页版的拼图游戏。实现过程中将用到 HTML5，CSS3 及 JavaScript 相关知识。完成这个项目，可以进一步扎实前端基础知识。</p>\n<p>九宫格拼图相信大家都玩过了，看似简单的小游戏，但实现起来其实并不那么简单。在以前，写程序是程序员的专利，只有他们才能做出一个软件来。但是现在不同了。科技的进步和经济的发展，使得每个人都可以使用计算机。特别是 HTML5 和 CSS3 的流行，使得制作一个基本的游戏变得简单。</p>\n<p>下面我们就来做一个九宫格拼图。它的玩法是移动空格块旁边的方块，使得它们按照方块上面标的数字顺序排好。最终的效果：</p>\n<p><img src= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" data-lazy-src=\"/cn/posts/22493/document-uid920932labid465timestamp1551234014316.png\" alt=\"此处输入图片的描述\"></p>\n<h4 id=\"1-2-实验知识点\"><a href=\"#1-2-实验知识点\" class=\"headerlink\" title=\"1.2 实验知识点\"></a>1.2 实验知识点</h4><p>本实验涉及以下知识点：</p>\n<ul>\n<li>HTML5</li>\n<li>CSS3</li>\n<li>JavaScript</li>\n</ul>\n<h4 id=\"1-3-实验环境\"><a href=\"#1-3-实验环境\" class=\"headerlink\" title=\"1.3 实验环境\"></a>1.3 实验环境</h4><ul>\n<li>Vscode</li>\n</ul>\n<h4 id=\"1-4-适合人群\"><a href=\"#1-4-适合人群\" class=\"headerlink\" title=\"1.4 适合人群\"></a>1.4 适合人群</h4><p>本项目难度一般，适合刚学完前端基础（HTML+CSS+JavaScript）的同学作为练手项目。</p>\n<h4 id=\"1-5-代码获取\"><a href=\"#1-5-代码获取\" class=\"headerlink\" title=\"1.5 代码获取\"></a>1.5 代码获取</h4><p>附件：</p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">puzzle.zip</span><br></pre></td></tr></tbody></table></figure>\n\n\n\n<h1 id=\"项目原理\"><a href=\"#项目原理\" class=\"headerlink\" title=\"项目原理\"></a>项目原理</h1><p>根据下面的效果图来观察思考，我们要做的就是设置一个大 DIV 用来包裹里面的小 DIV，然后在里面设置 8 个小 DIV，从 1 开始给他们编号。右边设置两个按钮，点击开始的时候开始计时，完成拼图后停止计时，并弹出一个框，提示完成了。重来按钮是当用户觉得当前有难度的时候，点击重来可以重新开始一个新的拼图，把所有方块打乱顺序，然后开始计时。</p>\n<p><img src= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" data-lazy-src=\"/cn/posts/22493/document-uid920932labid465timestamp1551234094402.png\" alt=\"此处输入图片的描述\"></p>\n<p>我们的重点就是当鼠标点击其中一个方块时，要判断当前方块是否可移动，如果可移动，则移动到相应的位置，如不可移动，则不做任何事。当移动完一块后，要判断是否完成拼图。</p>\n<p>我们把那个大 DIV 想象成一个盒子，它有九个位置，从 1 开始，到 9 编号，他们的位置和编号都是不会变的。把里面的 8 个小 DIV 想象成 8 个小盒子，给他们设置 top 和 left 就可以控制他们的位置。每个小 DIV 从 1 开始到 8 编号。他们的位置是可以随意改变的。所以当小 DIV 的编号和大 DIV 的编号全部重合时，就完成了拼图。</p>\n<p>所以重点就只有一个了。那就是如何判断是否可移动。这个也简单。我们设置一个一维数组变量，用来保存大 DIV 它里面装的小 DIV 的编号。如果大 DIV 没有小方块，也就表面它是空白块，那么就设为 0。如果当前大 DIV 有小 DIV，那就设置为小 DIV 的编号。然后再设置一个二维数组变量，用来保存大 DIV 的可移动编号。也就是保存这个大 DIV 它所有的可去的位置。比如大 DIV 编号为 2 的，它只能向 1 号，3 号，5 号这三个方向移动。又比如 5，它能向 2、4、6、8 这四个方向移动。我们循环遍历这个变量，如果对应的方向它 没有方块，也就是值为 0，那么它就可以往这个方向移动了。</p>\n<h1 id=\"环境准备\"><a href=\"#环境准备\" class=\"headerlink\" title=\"环境准备\"></a>环境准备</h1><p>1.准备相关开发工具</p>\n<p>2.建立下面的目录结构：</p>\n<figure class=\"highlight shell\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">puzzle</span><br><span class=\"line\">  |__puzzle.html</span><br><span class=\"line\">  |__puzzle.css</span><br><span class=\"line\">  |__puzzle.js</span><br></pre></td></tr></tbody></table></figure>\n\n<h1 id=\"实现步骤\"><a href=\"#实现步骤\" class=\"headerlink\" title=\"实现步骤\"></a>实现步骤</h1><h4 id=\"1-编写布局\"><a href=\"#1-编写布局\" class=\"headerlink\" title=\"1.编写布局\"></a>1.编写布局</h4><p>在<strong>puzzle.html</strong>中我们有下面的代码：</p>\n<figure class=\"highlight html\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"zh-CN\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Puzzle<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"puzzle.css\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/javascript\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"puzzle.js\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"container\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--最外面的DIV，用来包含里面的结构--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"game\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--游戏区，也就是大DIV方块--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d1\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(1)\"</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--小DIV，也就是8个小方块。当点击的时候执行move()函数，参数是显示的编号，这样我们就知道点击了那个方块--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d2\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(2)\"</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d3\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(3)\"</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d4\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(4)\"</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d5\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(5)\"</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d6\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(6)\"</span>&gt;</span>6<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d7\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(7)\"</span>&gt;</span>7<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"d8\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"move(8)\"</span>&gt;</span>8<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"control\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--游戏控制区--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">\"timeText\"</span>&gt;</span>总用时<span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">\"timer\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--显示游戏时间区域--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">\"start\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"start()\"</span>&gt;</span>开始<span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">\"reset\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"reset()\"</span>&gt;</span>重来<span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--显示控制按钮区域--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p>布局文件就写完了。这里为了简化逻辑，更易编写代码，我们把所有操作都封装了。只要执行 move(2)，就是点击了编号为 2 的小方块，后面的一系列操作都完成了。</p>\n<h4 id=\"2-编写样式\"><a href=\"#2-编写样式\" class=\"headerlink\" title=\"2.编写样式\"></a>2.编写样式</h4><p>布局写完了，现在我们为游戏编写样式，使得它更漂亮。在这一步，大家就可以自己自由发挥了，你可以写出自己的风格，让游戏更漂亮。也可以添加更多的元素来装饰你的游戏。但是注意了，游戏 DIV 的大小如果改变了，一定要记得修改 js 代码，稍后我们会详细讲解。</p>\n<p><strong>puzzle.css</strong></p>\n<figure class=\"highlight css\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* {</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/* *是通配符，给所有的元素去掉默认样式，因为有的浏览器会默认加上一些样式，这可能会给布局带来问题 */</span></span><br><span class=\"line\"><span class=\"selector-tag\">body</span> {</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/* 给body设置100%的高度和宽度，这样就会根据浏览器屏幕大小自动适配 */</span></span><br><span class=\"line\"><span class=\"selector-id\">#container</span> {</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">620px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/* 这是包裹所有元素的DIV，给他设置620px的宽和450px的高，这个大小可以设置为更大，但是不能小，至少要能包含里面所有的元素 */</span></span><br><span class=\"line\"><span class=\"selector-id\">#game</span> {</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/* 这是游戏区的DIV，这个大小是计算出来的，取决于你的小方块的大小。这里我们设置小方块的大小为150px 150px，所以这个大小是150px*3，为450px */</span></span><br><span class=\"line\"><span class=\"selector-id\">#game</span> <span class=\"selector-tag\">div</span> {</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">149px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">149px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">1px</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"number\">#777</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#20a6fa</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*浏览器前缀，兼容其他浏览器 chrome*/</span></span><br><span class=\"line\">  -moz-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*firefox*/</span></span><br><span class=\"line\">  -ms-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*ie*/</span></span><br><span class=\"line\">  -o-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*opera*/</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/* 这就是小方块的大小了，定位为绝对定位，这样改变位置不会影响其他元素的位置。宽高都是149px。注意了，我们还设置了box-shadow:1px 1px 2px #777 ；</span></span><br><span class=\"line\"><span class=\"comment\">它还有边框阴影，所以149px 加上边框1px，它的总宽度是150px 下面的transition：0.3s是设置过渡时间，这是css3的属性，它会让属性改变呈现过渡动画，所以</span></span><br><span class=\"line\"><span class=\"comment\">当我们改变方块的位置时，它会有一个动画，我们不必自己编写动画函数，这回让你疯狂*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#game</span> <span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:hover</span> {</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/*给方块设置鼠标悬停动画，当鼠标悬停在元素上面时，会用这里的属性替换上面的属性，移开后又会变为原来的，这里我们是把字体颜色改变*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#control</span> {</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/*控制区，display:inline-block会让元素呈现块状元素的特性，使得可以改变大小，同时也会具有行内元素的特性，使得不会占据一行空间，float:right让元素浮动到</span></span><br><span class=\"line\"><span class=\"comment\">右边*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#control</span> rowspan {</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#222</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/*设置控制区按钮的共同样式*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#start</span> {</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#20a6fa</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">1px</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">2px</span> <span class=\"number\">2px</span> <span class=\"number\">5px</span> <span class=\"number\">#4c98f5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/*给start按钮设置属性。cursor:pointer属性让鼠标移到元素上面时会显示不同的鼠标形状，pointer是手型*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#reset</span> {</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#20a6fa</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">1px</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"number\">#ffe171</span>; <span class=\"comment\">/*字体阴影*/</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>; <span class=\"comment\">/*圆角属性*/</span></span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">2px</span> <span class=\"number\">2px</span> <span class=\"number\">5px</span> <span class=\"number\">#4c98f5</span>; <span class=\"comment\">/*盒子阴影*/</span></span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center; <span class=\"comment\">/*文字居中*/</span></span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/*给Reset按钮设置属性*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#d1</span> {</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"selector-id\">#d2</span> {</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"selector-id\">#d3</span> {</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"selector-id\">#d4</span> {</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"selector-id\">#d5</span> {</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"selector-id\">#d6</span> {</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"selector-id\">#d7</span> {</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"selector-id\">#d8</span> {</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">/*这是预先给每个小方块按照顺序排好位置*/</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p>好了，样式也编写好了。最后再编写一个 js 控制代码，我们的拼图就可以用了。编写样式的时候大家还是先根据我这里的来，等完成了整个游戏，了解游戏逻辑的时候你们再自己发挥想象力去更改样式，不然可能会出现未知的错误。</p>\n<p>完成这步，打开 <code>puzzle.html</code> 应该能看到下面的效果了：</p>\n<p><img src= \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" data-lazy-src=\"/cn/posts/22493/puzzle1.png\" alt=\"img\"></p>\n<h4 id=\"3-控制代码的编写\"><a href=\"#3-控制代码的编写\" class=\"headerlink\" title=\"3.控制代码的编写\"></a>3.控制代码的编写</h4><p><strong>puzzle.js</strong></p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> time = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">//保存定时时间</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> pause = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"comment\">//设置是否暂停标志，true表示暂停</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> set_timer;</span><br><span class=\"line\"><span class=\"comment\">//设置定时函数</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> d = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">//保存大DIV当前装的小DIV的编号</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> d_direct = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(</span><br><span class=\"line\">  [<span class=\"number\">0</span>], <span class=\"comment\">//为了逻辑更简单，第一个元素我们不用，我们从下标1开始使用</span></span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">4</span>], <span class=\"comment\">//大DIV编号为1的DIV可以去的位置，比如第一块可以去2,4号位置</span></span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">7</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//保存大DIV编号的可移动位置编号</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> d_posXY = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(</span><br><span class=\"line\">  [<span class=\"number\">0</span>], <span class=\"comment\">//同样，我们不使用第一个元素</span></span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>], <span class=\"comment\">//第一个表示left,第二个表示top，比如第一块的位置为let:0px,top:0px</span></span><br><span class=\"line\">  [<span class=\"number\">150</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">300</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">150</span>],</span><br><span class=\"line\">  [<span class=\"number\">150</span>, <span class=\"number\">150</span>],</span><br><span class=\"line\">  [<span class=\"number\">300</span>, <span class=\"number\">150</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">300</span>],</span><br><span class=\"line\">  [<span class=\"number\">150</span>, <span class=\"number\">300</span>],</span><br><span class=\"line\">  [<span class=\"number\">300</span>, <span class=\"number\">300</span>]</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//大DIV编号的位置</span></span><br><span class=\"line\">d[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">d[<span class=\"number\">2</span>] = <span class=\"number\">2</span>;</span><br><span class=\"line\">d[<span class=\"number\">3</span>] = <span class=\"number\">3</span>;</span><br><span class=\"line\">d[<span class=\"number\">4</span>] = <span class=\"number\">4</span>;</span><br><span class=\"line\">d[<span class=\"number\">5</span>] = <span class=\"number\">5</span>;</span><br><span class=\"line\">d[<span class=\"number\">6</span>] = <span class=\"number\">6</span>;</span><br><span class=\"line\">d[<span class=\"number\">7</span>] = <span class=\"number\">7</span>;</span><br><span class=\"line\">d[<span class=\"number\">8</span>] = <span class=\"number\">8</span>;</span><br><span class=\"line\">d[<span class=\"number\">9</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">//默认按照顺序排好，大DIV第九块没有，所以为0，我们用0表示空白块</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">move</span>(<span class=\"params\">id</span>) {</span><br><span class=\"line\">  <span class=\"comment\">//移动函数，前面我们已将讲了</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt; <span class=\"number\">10</span>; ++i) {</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[i] == id) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">  }</span><br><span class=\"line\">  <span class=\"comment\">//这个for循环是找出小DIV在大DIV中的位置</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> target_d = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">//保存小DIV可以去的编号，0表示不能移动</span></span><br><span class=\"line\">  target_d = <span class=\"title function_\">whereCanTo</span>(i);</span><br><span class=\"line\">  <span class=\"comment\">//用来找出小DIV可以去的位置，如果返回0，表示不能移动，如果可以移动，则返回可以去的位置编号</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (target_d != <span class=\"number\">0</span>) {</span><br><span class=\"line\">    d[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//把当前的大DIV编号设置为0，因为当前小DIV已经移走了，所以当前大DIV就没有装小DIV了</span></span><br><span class=\"line\">    d[target_d] = id;</span><br><span class=\"line\">    <span class=\"comment\">//把目标大DIV设置为被点击的小DIV的编号</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'d'</span> + id).<span class=\"property\">style</span>.<span class=\"property\">left</span> = d_posXY[target_d][<span class=\"number\">0</span>] + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'d'</span> + id).<span class=\"property\">style</span>.<span class=\"property\">top</span> = d_posXY[target_d][<span class=\"number\">1</span>] + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">    <span class=\"comment\">//最后设置被点击的小DIV的位置，把它移到目标大DIV的位置</span></span><br><span class=\"line\">  }</span><br><span class=\"line\">  <span class=\"comment\">//如果target_d不为0，则表示可以移动，且target_d就是小DIV要去的大DIV的位置编号</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> finish_flag = <span class=\"literal\">true</span>;</span><br><span class=\"line\">  <span class=\"comment\">//设置游戏是否完成标志，true表示完成</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> k = <span class=\"number\">1</span>; k &lt; <span class=\"number\">9</span>; ++k) {</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[k] != k) {</span><br><span class=\"line\">      finish_flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"comment\">//如果大DIV保存的编号和它本身的编号不同，则表示还不是全部按照顺序排的，那么设置为false，跳出循环，后面不用再判断了，因为只要一个不符，就没完成游戏</span></span><br><span class=\"line\">    }</span><br><span class=\"line\">  }</span><br><span class=\"line\">  <span class=\"comment\">//从1开始，把每个大DIV保存的编号遍历一下，判断是否完成</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (finish_flag == <span class=\"literal\">true</span>) {</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!pause) <span class=\"title function_\">start</span>();</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">'congratulation'</span>);</span><br><span class=\"line\">  }</span><br><span class=\"line\">  <span class=\"comment\">//如果为true，则表示游戏完成，如果当前没有暂停，则调用暂停韩式，并且弹出提示框，完成游戏。</span></span><br><span class=\"line\">  <span class=\"comment\">//start()这个函数是开始，暂停一起的函数，如果暂停，调用后会开始，如果开始，则调用后会暂停</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">whereCanTo</span>(<span class=\"params\">cur_div</span>) {</span><br><span class=\"line\">  <span class=\"comment\">//判断是否可移动函数，参数是大DIV的编号，不是小DIV的编号，因为小DIV编号跟可以去哪没关系，小DIV是会动的</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> move_flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (j = <span class=\"number\">0</span>; j &lt; d_direct[cur_div].<span class=\"property\">length</span>; ++j) {</span><br><span class=\"line\">    <span class=\"comment\">//把所有可能去的位置循环遍历一下</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[d_direct[cur_div][j]] == <span class=\"number\">0</span>) {</span><br><span class=\"line\">      move_flag = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"comment\">//如果目标的值为0，说明目标位置没有装小DIV，则可以移动，跳出循环</span></span><br><span class=\"line\">  }</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (move_flag == <span class=\"literal\">true</span>) {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> d_direct[cur_div][j];</span><br><span class=\"line\">  } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  }</span><br><span class=\"line\">  <span class=\"comment\">//可以移动，则返回目标位置的编号，否则返回0，表示不可移动</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//定时函数，每一秒执行一次</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">timer</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  time += <span class=\"number\">1</span>; <span class=\"comment\">//一秒钟加一，单位是秒</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> min = <span class=\"built_in\">parseInt</span>(time / <span class=\"number\">60</span>); <span class=\"comment\">//把秒转换为分钟，一分钟60秒，取商就是分钟</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> sec = time % <span class=\"number\">60</span>; <span class=\"comment\">//取余就是秒</span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'timer'</span>).<span class=\"property\">innerHTML</span> = min + <span class=\"string\">'分'</span> + sec + <span class=\"string\">'秒'</span>; <span class=\"comment\">//然后把时间更新显示出来</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//开始暂停函数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">start</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (pause) {</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'start'</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">'暂停'</span>; <span class=\"comment\">//把按钮文字设置为暂停</span></span><br><span class=\"line\">    pause = <span class=\"literal\">false</span>; <span class=\"comment\">//暂停表示设置为false</span></span><br><span class=\"line\">    set_timer = <span class=\"built_in\">setInterval</span>(timer, <span class=\"number\">1000</span>); <span class=\"comment\">//启动定时</span></span><br><span class=\"line\">    <span class=\"comment\">//如果当前是暂停，则开始</span></span><br><span class=\"line\">  } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'start'</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">'开始'</span>;</span><br><span class=\"line\">    pause = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"built_in\">clearInterval</span>(set_timer);</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//重置函数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reset</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  time = <span class=\"number\">0</span>; <span class=\"comment\">//把时间设置为0</span></span><br><span class=\"line\">  <span class=\"title function_\">random_d</span>(); <span class=\"comment\">//把方块随机打乱函数</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (pause)</span><br><span class=\"line\">    <span class=\"comment\">//如果暂停，则开始计时</span></span><br><span class=\"line\">    <span class=\"title function_\">start</span>();</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//随机打乱方块函数，我们的思路是从第九块开始，随机生成一个数，然后他们两块对调一下</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">random_d</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">9</span>; i &gt; <span class=\"number\">1</span>; --i) {</span><br><span class=\"line\">    <span class=\"keyword\">var</span> to = <span class=\"built_in\">parseInt</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * (i - <span class=\"number\">1</span>) + <span class=\"number\">1</span>); <span class=\"comment\">//产生随机数，范围为1到i，不能超出范围，因为没这个id的DIV</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[i] != <span class=\"number\">0</span>) {</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'d'</span> + d[i]).<span class=\"property\">style</span>.<span class=\"property\">left</span> = d_posXY[to][<span class=\"number\">0</span>] + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'d'</span> + d[i]).<span class=\"property\">style</span>.<span class=\"property\">top</span> = d_posXY[to][<span class=\"number\">1</span>] + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"comment\">//把当前的DIV位置设置为随机产生的DIV的位置</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[to] != <span class=\"number\">0</span>) {</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'d'</span> + d[to]).<span class=\"property\">style</span>.<span class=\"property\">left</span> = d_posXY[i][<span class=\"number\">0</span>] + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">'d'</span> + d[to]).<span class=\"property\">style</span>.<span class=\"property\">top</span> = d_posXY[i][<span class=\"number\">1</span>] + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"comment\">//把随机产生的DIV的位置设置为当前的DIV的位置</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> tem = d[to];</span><br><span class=\"line\">    d[to] = d[i];</span><br><span class=\"line\">    d[i] = tem;</span><br><span class=\"line\">    <span class=\"comment\">//然后把它们两个的DIV保存的编号对调一下</span></span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//初始化函数，页面加载的时候调用重置函数，重新开始</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) {</span><br><span class=\"line\">  <span class=\"title function_\">reset</span>();</span><br><span class=\"line\">};</span><br></pre></td></tr></tbody></table></figure>\n\n<p>好了，所有代码都已经编写完成了。现在点击桌面上的 <code>puzzle.html</code> 文件，使用 浏览器 打开，就能看到效果了。点击上面的方块就可以移动。</p>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>通过此项目，我们利用 HTML5 + CSS3 + JavaScript，实现了一个简单的拼图游戏。</p>\n<p>这里说明一下，因为实验中使用的随机打乱方块的算法非常简单，但是存在 bug，有 50% 的概率生成的顺序是无法复原的，这个时候就只能点击重新开始。</p>\n","more":"<h1 id=\"内容介绍\"><a href=\"#内容介绍\" class=\"headerlink\" title=\"内容介绍\"></a>内容介绍</h1><h4 id=\"1-1-学习内容\"><a href=\"#1-1-学习内容\" class=\"headerlink\" title=\"1.1 学习内容\"></a>1.1 学习内容</h4><p>本项目是基于 HTML+CSS+JavaScript 实现网页版的拼图游戏。实现过程中将用到 HTML5，CSS3 及 JavaScript 相关知识。完成这个项目，可以进一步扎实前端基础知识。</p>\n<p>九宫格拼图相信大家都玩过了，看似简单的小游戏，但实现起来其实并不那么简单。在以前，写程序是程序员的专利，只有他们才能做出一个软件来。但是现在不同了。科技的进步和经济的发展，使得每个人都可以使用计算机。特别是 HTML5 和 CSS3 的流行，使得制作一个基本的游戏变得简单。</p>\n<p>下面我们就来做一个九宫格拼图。它的玩法是移动空格块旁边的方块，使得它们按照方块上面标的数字顺序排好。最终的效果：</p>\n<p><img src=\"/cn/posts/22493/document-uid920932labid465timestamp1551234014316.png\" alt=\"此处输入图片的描述\"></p>\n<h4 id=\"1-2-实验知识点\"><a href=\"#1-2-实验知识点\" class=\"headerlink\" title=\"1.2 实验知识点\"></a>1.2 实验知识点</h4><p>本实验涉及以下知识点：</p>\n<ul>\n<li>HTML5</li>\n<li>CSS3</li>\n<li>JavaScript</li>\n</ul>\n<h4 id=\"1-3-实验环境\"><a href=\"#1-3-实验环境\" class=\"headerlink\" title=\"1.3 实验环境\"></a>1.3 实验环境</h4><ul>\n<li>Vscode</li>\n</ul>\n<h4 id=\"1-4-适合人群\"><a href=\"#1-4-适合人群\" class=\"headerlink\" title=\"1.4 适合人群\"></a>1.4 适合人群</h4><p>本项目难度一般，适合刚学完前端基础（HTML+CSS+JavaScript）的同学作为练手项目。</p>\n<h4 id=\"1-5-代码获取\"><a href=\"#1-5-代码获取\" class=\"headerlink\" title=\"1.5 代码获取\"></a>1.5 代码获取</h4><p>附件：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">puzzle.zip</span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"项目原理\"><a href=\"#项目原理\" class=\"headerlink\" title=\"项目原理\"></a>项目原理</h1><p>根据下面的效果图来观察思考，我们要做的就是设置一个大 DIV 用来包裹里面的小 DIV，然后在里面设置 8 个小 DIV，从 1 开始给他们编号。右边设置两个按钮，点击开始的时候开始计时，完成拼图后停止计时，并弹出一个框，提示完成了。重来按钮是当用户觉得当前有难度的时候，点击重来可以重新开始一个新的拼图，把所有方块打乱顺序，然后开始计时。</p>\n<p><img src=\"/cn/posts/22493/document-uid920932labid465timestamp1551234094402.png\" alt=\"此处输入图片的描述\"></p>\n<p>我们的重点就是当鼠标点击其中一个方块时，要判断当前方块是否可移动，如果可移动，则移动到相应的位置，如不可移动，则不做任何事。当移动完一块后，要判断是否完成拼图。</p>\n<p>我们把那个大 DIV 想象成一个盒子，它有九个位置，从 1 开始，到 9 编号，他们的位置和编号都是不会变的。把里面的 8 个小 DIV 想象成 8 个小盒子，给他们设置 top 和 left 就可以控制他们的位置。每个小 DIV 从 1 开始到 8 编号。他们的位置是可以随意改变的。所以当小 DIV 的编号和大 DIV 的编号全部重合时，就完成了拼图。</p>\n<p>所以重点就只有一个了。那就是如何判断是否可移动。这个也简单。我们设置一个一维数组变量，用来保存大 DIV 它里面装的小 DIV 的编号。如果大 DIV 没有小方块，也就表面它是空白块，那么就设为 0。如果当前大 DIV 有小 DIV，那就设置为小 DIV 的编号。然后再设置一个二维数组变量，用来保存大 DIV 的可移动编号。也就是保存这个大 DIV 它所有的可去的位置。比如大 DIV 编号为 2 的，它只能向 1 号，3 号，5 号这三个方向移动。又比如 5，它能向 2、4、6、8 这四个方向移动。我们循环遍历这个变量，如果对应的方向它 没有方块，也就是值为 0，那么它就可以往这个方向移动了。</p>\n<h1 id=\"环境准备\"><a href=\"#环境准备\" class=\"headerlink\" title=\"环境准备\"></a>环境准备</h1><p>1.准备相关开发工具</p>\n<p>2.建立下面的目录结构：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">puzzle</span><br><span class=\"line\">  |__puzzle.html</span><br><span class=\"line\">  |__puzzle.css</span><br><span class=\"line\">  |__puzzle.js</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"实现步骤\"><a href=\"#实现步骤\" class=\"headerlink\" title=\"实现步骤\"></a>实现步骤</h1><h4 id=\"1-编写布局\"><a href=\"#1-编写布局\" class=\"headerlink\" title=\"1.编写布局\"></a>1.编写布局</h4><p>在<strong>puzzle.html</strong>中我们有下面的代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Puzzle<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/css&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;puzzle.css&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;puzzle.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--最外面的DIV，用来包含里面的结构--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;game&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--游戏区，也就是大DIV方块--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d1&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(1)&quot;</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--小DIV，也就是8个小方块。当点击的时候执行move()函数，参数是显示的编号，这样我们就知道点击了那个方块--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d2&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(2)&quot;</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d3&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(3)&quot;</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d4&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(4)&quot;</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d5&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(5)&quot;</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d6&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(6)&quot;</span>&gt;</span>6<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d7&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(7)&quot;</span>&gt;</span>7<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;d8&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;move(8)&quot;</span>&gt;</span>8<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;control&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--游戏控制区--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;timeText&quot;</span>&gt;</span>总用时<span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;timer&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--显示游戏时间区域--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;start&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;start()&quot;</span>&gt;</span>开始<span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">rowspan</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;reset&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;reset()&quot;</span>&gt;</span>重来<span class=\"tag\">&lt;/<span class=\"name\">rowspan</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--显示控制按钮区域--&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>布局文件就写完了。这里为了简化逻辑，更易编写代码，我们把所有操作都封装了。只要执行 move(2)，就是点击了编号为 2 的小方块，后面的一系列操作都完成了。</p>\n<h4 id=\"2-编写样式\"><a href=\"#2-编写样式\" class=\"headerlink\" title=\"2.编写样式\"></a>2.编写样式</h4><p>布局写完了，现在我们为游戏编写样式，使得它更漂亮。在这一步，大家就可以自己自由发挥了，你可以写出自己的风格，让游戏更漂亮。也可以添加更多的元素来装饰你的游戏。但是注意了，游戏 DIV 的大小如果改变了，一定要记得修改 js 代码，稍后我们会详细讲解。</p>\n<p><strong>puzzle.css</strong></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* *是通配符，给所有的元素去掉默认样式，因为有的浏览器会默认加上一些样式，这可能会给布局带来问题 */</span></span><br><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 给body设置100%的高度和宽度，这样就会根据浏览器屏幕大小自动适配 */</span></span><br><span class=\"line\"><span class=\"selector-id\">#container</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">620px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 这是包裹所有元素的DIV，给他设置620px的宽和450px的高，这个大小可以设置为更大，但是不能小，至少要能包含里面所有的元素 */</span></span><br><span class=\"line\"><span class=\"selector-id\">#game</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 这是游戏区的DIV，这个大小是计算出来的，取决于你的小方块的大小。这里我们设置小方块的大小为150px 150px，所以这个大小是150px*3，为450px */</span></span><br><span class=\"line\"><span class=\"selector-id\">#game</span> <span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">149px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">149px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">1px</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"number\">#777</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#20a6fa</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*浏览器前缀，兼容其他浏览器 chrome*/</span></span><br><span class=\"line\">  -moz-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*firefox*/</span></span><br><span class=\"line\">  -ms-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*ie*/</span></span><br><span class=\"line\">  -o-<span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>; <span class=\"comment\">/*opera*/</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 这就是小方块的大小了，定位为绝对定位，这样改变位置不会影响其他元素的位置。宽高都是149px。注意了，我们还设置了box-shadow:1px 1px 2px #777 ；</span></span><br><span class=\"line\"><span class=\"comment\">它还有边框阴影，所以149px 加上边框1px，它的总宽度是150px 下面的transition：0.3s是设置过渡时间，这是css3的属性，它会让属性改变呈现过渡动画，所以</span></span><br><span class=\"line\"><span class=\"comment\">当我们改变方块的位置时，它会有一个动画，我们不必自己编写动画函数，这回让你疯狂*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#game</span> <span class=\"selector-tag\">div</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*给方块设置鼠标悬停动画，当鼠标悬停在元素上面时，会用这里的属性替换上面的属性，移开后又会变为原来的，这里我们是把字体颜色改变*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#control</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">450px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*控制区，display:inline-block会让元素呈现块状元素的特性，使得可以改变大小，同时也会具有行内元素的特性，使得不会占据一行空间，float:right让元素浮动到</span></span><br><span class=\"line\"><span class=\"comment\">右边*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#control</span> rowspan &#123;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#222</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*设置控制区按钮的共同样式*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#start</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#20a6fa</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">1px</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">2px</span> <span class=\"number\">2px</span> <span class=\"number\">5px</span> <span class=\"number\">#4c98f5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*给start按钮设置属性。cursor:pointer属性让鼠标移到元素上面时会显示不同的鼠标形状，pointer是手型*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#reset</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">28px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#20a6fa</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#ffe171</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-shadow</span>: <span class=\"number\">1px</span> <span class=\"number\">1px</span> <span class=\"number\">2px</span> <span class=\"number\">#ffe171</span>; <span class=\"comment\">/*字体阴影*/</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>; <span class=\"comment\">/*圆角属性*/</span></span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">2px</span> <span class=\"number\">2px</span> <span class=\"number\">5px</span> <span class=\"number\">#4c98f5</span>; <span class=\"comment\">/*盒子阴影*/</span></span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center; <span class=\"comment\">/*文字居中*/</span></span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*给Reset按钮设置属性*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#d1</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#d2</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#d3</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#d4</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#d5</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#d6</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#d7</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-id\">#d8</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*这是预先给每个小方块按照顺序排好位置*/</span></span><br></pre></td></tr></table></figure>\n\n<p>好了，样式也编写好了。最后再编写一个 js 控制代码，我们的拼图就可以用了。编写样式的时候大家还是先根据我这里的来，等完成了整个游戏，了解游戏逻辑的时候你们再自己发挥想象力去更改样式，不然可能会出现未知的错误。</p>\n<p>完成这步，打开 <code>puzzle.html</code> 应该能看到下面的效果了：</p>\n<p><img src=\"/cn/posts/22493/puzzle1.png\" alt=\"img\"></p>\n<h4 id=\"3-控制代码的编写\"><a href=\"#3-控制代码的编写\" class=\"headerlink\" title=\"3.控制代码的编写\"></a>3.控制代码的编写</h4><p><strong>puzzle.js</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> time = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">//保存定时时间</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> pause = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"comment\">//设置是否暂停标志，true表示暂停</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> set_timer;</span><br><span class=\"line\"><span class=\"comment\">//设置定时函数</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> d = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">//保存大DIV当前装的小DIV的编号</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> d_direct = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(</span><br><span class=\"line\">  [<span class=\"number\">0</span>], <span class=\"comment\">//为了逻辑更简单，第一个元素我们不用，我们从下标1开始使用</span></span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">4</span>], <span class=\"comment\">//大DIV编号为1的DIV可以去的位置，比如第一块可以去2,4号位置</span></span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">6</span>],</span><br><span class=\"line\">  [<span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">7</span>],</span><br><span class=\"line\">  [<span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">  [<span class=\"number\">4</span>, <span class=\"number\">8</span>],</span><br><span class=\"line\">  [<span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>],</span><br><span class=\"line\">  [<span class=\"number\">6</span>, <span class=\"number\">8</span>]</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//保存大DIV编号的可移动位置编号</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> d_posXY = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(</span><br><span class=\"line\">  [<span class=\"number\">0</span>], <span class=\"comment\">//同样，我们不使用第一个元素</span></span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">0</span>], <span class=\"comment\">//第一个表示left,第二个表示top，比如第一块的位置为let:0px,top:0px</span></span><br><span class=\"line\">  [<span class=\"number\">150</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">300</span>, <span class=\"number\">0</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">150</span>],</span><br><span class=\"line\">  [<span class=\"number\">150</span>, <span class=\"number\">150</span>],</span><br><span class=\"line\">  [<span class=\"number\">300</span>, <span class=\"number\">150</span>],</span><br><span class=\"line\">  [<span class=\"number\">0</span>, <span class=\"number\">300</span>],</span><br><span class=\"line\">  [<span class=\"number\">150</span>, <span class=\"number\">300</span>],</span><br><span class=\"line\">  [<span class=\"number\">300</span>, <span class=\"number\">300</span>]</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">//大DIV编号的位置</span></span><br><span class=\"line\">d[<span class=\"number\">1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">d[<span class=\"number\">2</span>] = <span class=\"number\">2</span>;</span><br><span class=\"line\">d[<span class=\"number\">3</span>] = <span class=\"number\">3</span>;</span><br><span class=\"line\">d[<span class=\"number\">4</span>] = <span class=\"number\">4</span>;</span><br><span class=\"line\">d[<span class=\"number\">5</span>] = <span class=\"number\">5</span>;</span><br><span class=\"line\">d[<span class=\"number\">6</span>] = <span class=\"number\">6</span>;</span><br><span class=\"line\">d[<span class=\"number\">7</span>] = <span class=\"number\">7</span>;</span><br><span class=\"line\">d[<span class=\"number\">8</span>] = <span class=\"number\">8</span>;</span><br><span class=\"line\">d[<span class=\"number\">9</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"comment\">//默认按照顺序排好，大DIV第九块没有，所以为0，我们用0表示空白块</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">move</span>(<span class=\"params\">id</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//移动函数，前面我们已将讲了</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (i = <span class=\"number\">1</span>; i &lt; <span class=\"number\">10</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[i] == id) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//这个for循环是找出小DIV在大DIV中的位置</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> target_d = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">//保存小DIV可以去的编号，0表示不能移动</span></span><br><span class=\"line\">  target_d = <span class=\"title function_\">whereCanTo</span>(i);</span><br><span class=\"line\">  <span class=\"comment\">//用来找出小DIV可以去的位置，如果返回0，表示不能移动，如果可以移动，则返回可以去的位置编号</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (target_d != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    d[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//把当前的大DIV编号设置为0，因为当前小DIV已经移走了，所以当前大DIV就没有装小DIV了</span></span><br><span class=\"line\">    d[target_d] = id;</span><br><span class=\"line\">    <span class=\"comment\">//把目标大DIV设置为被点击的小DIV的编号</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;d&#x27;</span> + id).<span class=\"property\">style</span>.<span class=\"property\">left</span> = d_posXY[target_d][<span class=\"number\">0</span>] + <span class=\"string\">&#x27;px&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;d&#x27;</span> + id).<span class=\"property\">style</span>.<span class=\"property\">top</span> = d_posXY[target_d][<span class=\"number\">1</span>] + <span class=\"string\">&#x27;px&#x27;</span>;</span><br><span class=\"line\">    <span class=\"comment\">//最后设置被点击的小DIV的位置，把它移到目标大DIV的位置</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//如果target_d不为0，则表示可以移动，且target_d就是小DIV要去的大DIV的位置编号</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> finish_flag = <span class=\"literal\">true</span>;</span><br><span class=\"line\">  <span class=\"comment\">//设置游戏是否完成标志，true表示完成</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> k = <span class=\"number\">1</span>; k &lt; <span class=\"number\">9</span>; ++k) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[k] != k) &#123;</span><br><span class=\"line\">      finish_flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"comment\">//如果大DIV保存的编号和它本身的编号不同，则表示还不是全部按照顺序排的，那么设置为false，跳出循环，后面不用再判断了，因为只要一个不符，就没完成游戏</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//从1开始，把每个大DIV保存的编号遍历一下，判断是否完成</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (finish_flag == <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!pause) <span class=\"title function_\">start</span>();</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;congratulation&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//如果为true，则表示游戏完成，如果当前没有暂停，则调用暂停韩式，并且弹出提示框，完成游戏。</span></span><br><span class=\"line\">  <span class=\"comment\">//start()这个函数是开始，暂停一起的函数，如果暂停，调用后会开始，如果开始，则调用后会暂停</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">whereCanTo</span>(<span class=\"params\">cur_div</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//判断是否可移动函数，参数是大DIV的编号，不是小DIV的编号，因为小DIV编号跟可以去哪没关系，小DIV是会动的</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> move_flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (j = <span class=\"number\">0</span>; j &lt; d_direct[cur_div].<span class=\"property\">length</span>; ++j) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//把所有可能去的位置循环遍历一下</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[d_direct[cur_div][j]] == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      move_flag = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//如果目标的值为0，说明目标位置没有装小DIV，则可以移动，跳出循环</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (move_flag == <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> d_direct[cur_div][j];</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//可以移动，则返回目标位置的编号，否则返回0，表示不可移动</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//定时函数，每一秒执行一次</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">timer</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  time += <span class=\"number\">1</span>; <span class=\"comment\">//一秒钟加一，单位是秒</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> min = <span class=\"built_in\">parseInt</span>(time / <span class=\"number\">60</span>); <span class=\"comment\">//把秒转换为分钟，一分钟60秒，取商就是分钟</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> sec = time % <span class=\"number\">60</span>; <span class=\"comment\">//取余就是秒</span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;timer&#x27;</span>).<span class=\"property\">innerHTML</span> = min + <span class=\"string\">&#x27;分&#x27;</span> + sec + <span class=\"string\">&#x27;秒&#x27;</span>; <span class=\"comment\">//然后把时间更新显示出来</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//开始暂停函数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">start</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (pause) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;start&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;暂停&#x27;</span>; <span class=\"comment\">//把按钮文字设置为暂停</span></span><br><span class=\"line\">    pause = <span class=\"literal\">false</span>; <span class=\"comment\">//暂停表示设置为false</span></span><br><span class=\"line\">    set_timer = <span class=\"built_in\">setInterval</span>(timer, <span class=\"number\">1000</span>); <span class=\"comment\">//启动定时</span></span><br><span class=\"line\">    <span class=\"comment\">//如果当前是暂停，则开始</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;start&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;开始&#x27;</span>;</span><br><span class=\"line\">    pause = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"built_in\">clearInterval</span>(set_timer);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//重置函数</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reset</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  time = <span class=\"number\">0</span>; <span class=\"comment\">//把时间设置为0</span></span><br><span class=\"line\">  <span class=\"title function_\">random_d</span>(); <span class=\"comment\">//把方块随机打乱函数</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (pause)</span><br><span class=\"line\">    <span class=\"comment\">//如果暂停，则开始计时</span></span><br><span class=\"line\">    <span class=\"title function_\">start</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//随机打乱方块函数，我们的思路是从第九块开始，随机生成一个数，然后他们两块对调一下</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">random_d</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">9</span>; i &gt; <span class=\"number\">1</span>; --i) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> to = <span class=\"built_in\">parseInt</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * (i - <span class=\"number\">1</span>) + <span class=\"number\">1</span>); <span class=\"comment\">//产生随机数，范围为1到i，不能超出范围，因为没这个id的DIV</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[i] != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;d&#x27;</span> + d[i]).<span class=\"property\">style</span>.<span class=\"property\">left</span> = d_posXY[to][<span class=\"number\">0</span>] + <span class=\"string\">&#x27;px&#x27;</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;d&#x27;</span> + d[i]).<span class=\"property\">style</span>.<span class=\"property\">top</span> = d_posXY[to][<span class=\"number\">1</span>] + <span class=\"string\">&#x27;px&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//把当前的DIV位置设置为随机产生的DIV的位置</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (d[to] != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;d&#x27;</span> + d[to]).<span class=\"property\">style</span>.<span class=\"property\">left</span> = d_posXY[i][<span class=\"number\">0</span>] + <span class=\"string\">&#x27;px&#x27;</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;d&#x27;</span> + d[to]).<span class=\"property\">style</span>.<span class=\"property\">top</span> = d_posXY[i][<span class=\"number\">1</span>] + <span class=\"string\">&#x27;px&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//把随机产生的DIV的位置设置为当前的DIV的位置</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> tem = d[to];</span><br><span class=\"line\">    d[to] = d[i];</span><br><span class=\"line\">    d[i] = tem;</span><br><span class=\"line\">    <span class=\"comment\">//然后把它们两个的DIV保存的编号对调一下</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//初始化函数，页面加载的时候调用重置函数，重新开始</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">reset</span>();</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>好了，所有代码都已经编写完成了。现在点击桌面上的 <code>puzzle.html</code> 文件，使用 浏览器 打开，就能看到效果了。点击上面的方块就可以移动。</p>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>通过此项目，我们利用 HTML5 + CSS3 + JavaScript，实现了一个简单的拼图游戏。</p>\n<p>这里说明一下，因为实验中使用的随机打乱方块的算法非常简单，但是存在 bug，有 50% 的概率生成的顺序是无法复原的，这个时候就只能点击重新开始。</p>\n","categories":[],"tags":[{"name":"前端","path":"api/tags/前端.json"}]}